{"ast":null,"code":"import { ref, computed } from 'vue';\nimport { useStore } from 'vuex';\nimport axios from 'axios';\nexport default {\n  name: 'accountDetailCom',\n  components: {},\n  setup() {\n    // 수입인지 지출인지\n    var kind = ref('income');\n    var date_ = ref(dateNow());\n    var money1 = ref(0);\n    var incomekindList = ref([]);\n    var expendkindList = ref([]);\n    var selectContent = ref('');\n    var store = useStore();\n    var account = computed(() => store.state.account);\n    function dateNow() {\n      var today = new Date();\n      var year = today.getFullYear();\n      var month = ('0' + (today.getMonth() + 1)).slice(-2);\n      var day = ('0' + today.getDate()).slice(-2);\n      var dateString = year + '-' + month + '-' + day;\n      return dateString;\n    }\n    async function set_Content() {\n      var list = {\n        account_id: account.value.id,\n        date: date_.value,\n        content: selectContent.value,\n        money: parseInt(money1.value),\n        kind: kind.value\n      };\n      await axios.post(\"/api/users/setContent\", list).then(res => {\n        console.log(res.data);\n      }).catch(error => {\n        console.log(error);\n      }).finally(() => {});\n    }\n    async function set_kindList() {\n      await axios.get(\"/api/users/getIncomeKind\").then(res => {\n        incomekindList.value = res.data;\n        console.log(res.data);\n      }).catch(error => {\n        console.log(error);\n      }).finally(() => {});\n      await axios.get(\"/api/users/getExpendKind\").then(res => {\n        expendkindList.value = res.data;\n        console.log('expendList', res.data);\n      }).catch(error => {\n        console.log(error);\n      }).finally(() => {});\n    }\n    var store = useStore();\n    function closeDetailAddPopup() {\n      store.commit('closeAddContent');\n    }\n    function clickOk() {\n      set_Content();\n      closeDetailAddPopup();\n    }\n    function clickEdit() {\n      store.commit('openEditCategory', kind.value);\n    }\n    set_kindList();\n    return {\n      closeDetailAddPopup,\n      incomekindList,\n      expendkindList,\n      clickEdit,\n      clickOk,\n      kind,\n      date_,\n      set_Content,\n      money1,\n      selectContent\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","useStore","axios","name","components","setup","kind","date_","dateNow","money1","incomekindList","expendkindList","selectContent","store","account","state","today","Date","year","getFullYear","month","getMonth","slice","day","getDate","dateString","set_Content","list","account_id","value","id","date","content","money","parseInt","post","then","res","console","log","data","catch","error","finally","set_kindList","get","closeDetailAddPopup","commit","clickOk","clickEdit"],"sources":["C:\\Users\\gpal6\\DBproject\\git_db\\vueProject\\src\\components\\accountDetail\\AccountDetailAddPopup.vue"],"sourcesContent":["<template>\r\n    <div class=\"popup-back\">\r\n        <div class=\"block popup-box\">\r\n            <!-- 팝업 머리 -->\r\n            <div class=\"blue-title\">내용 추가하기 \r\n                <button class=\"blue-title del-btn\" style=\"float:right\" @click=\"closeDetailAddPopup()\">X</button>\r\n            </div>\r\n\r\n            <!-- 날짜 선택란 -->\r\n            <div>\r\n                <div class=\"title input-title\"  style=\"margin-top:10vh\">날짜 선택</div>\r\n                <input type=\"date\" v-model = date_ class=\"popup-input\">\r\n            </div>\r\n            <!-- 카테고리 선택란 -->\r\n            <div>\r\n                <div class=\"title input-title\" style=\"float:left\">내용입력</div>\r\n                <img class=\"input-title edit-icon\" style=\"float:left\" src=\"@/assets/editBtn.png\" @click=\"clickEdit()\">\r\n                <!-- 수입 지출 라디오버튼 -->\r\n                <div style=\"margin-top:2vh; clear:both\" >\r\n                    <input type=\"radio\" name=\"chk_info\" v-model=\"kind\" value=\"income\" checked>수입\r\n                    <input type=\"radio\" name=\"chk_info\" v-model=\"kind\" value=\"expend\" style=\"margin-left:2vw\">지출\r\n                </div>\r\n                <select  v-if=\"kind == 'income'\" v-model=\"selectContent\" class=\"select-popup popup-input\" style=\"width:23vw; height:4.5vh\">\r\n                    <option v-for=\"item in incomekindList\" :key=\"item\" :value=\"item.in_category\" style=\"float:left\">{{ item.in_category }}</option>\r\n                    <button style=\"float:right\">X</button>\r\n                </select>\r\n                <select  v-else-if=\"kind == 'expend'\" v-model=\"selectContent\" class=\"select-popup popup-input\" style=\"width:23vw; height:4.5vh\">\r\n                    <option v-for=\"item in expendkindList\" :key=\"item\" :value=\"item.ex_category\" style=\"float:left\">{{ item.ex_category }}</option>\r\n                    <button style=\"float:right\">X</button>\r\n                </select>\r\n            </div>\r\n            <!-- 금액 입력란 -->\r\n            <div>\r\n                <div class=\"title input-title\">금액입력</div><br>\r\n                \r\n                <!-- 입력칸 -->\r\n                <input class=\"popup-input popup-input-white\" v-model=\"money1\" style=\"width:18vw; display: inline-block;\">\r\n                <div class=\"title\" style=\"display: inline-block; margin-left:1vw; margin-top:1vh; font-size:2vh\">원</div>\r\n            </div>\r\n            <button class=\"ok-btn\" @click=\"clickOk(kind)\">확인</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {ref, computed} from 'vue'\r\nimport { useStore } from 'vuex';\r\nimport axios from 'axios'\r\n    export default{ \r\n        name:'accountDetailCom',\r\n        components:{\r\n        },\r\n        setup(){\r\n            // 수입인지 지출인지\r\n            var kind = ref('income') \r\n            var date_ = ref(dateNow())\r\n            var money1 = ref(0)\r\n            var incomekindList =ref([])\r\n            var expendkindList =ref([])\r\n            var selectContent = ref('')\r\n            var store = useStore()\r\n            var account = computed(()=> store.state.account)\r\n\r\n            function dateNow(){\r\n                var today = new Date();\r\n\r\n                var year = today.getFullYear();\r\n                var month = ('0' + (today.getMonth() + 1)).slice(-2);\r\n                var day = ('0' + today.getDate()).slice(-2);\r\n\r\n                var dateString = year + '-' + month  + '-' + day;\r\n\r\n                return dateString;\r\n            }\r\n            async function set_Content(){\r\n                var list = {\r\n                    account_id:account.value.id,\r\n                    date:date_.value,\r\n                    content:selectContent.value,\r\n                    money:parseInt(money1.value),\r\n                    kind : kind.value\r\n                }\r\n        \r\n                await axios.post(\"/api/users/setContent\",list).then(res => {\r\n                    console.log(res.data)\r\n                })\r\n                .catch(error => {\r\n                    console.log(error)\r\n                })\r\n                .finally(() => {\r\n                })\r\n            }\r\n\r\n            async function set_kindList(){\r\n                await axios.get(\"/api/users/getIncomeKind\").then(res => {\r\n                    incomekindList.value = res.data\r\n                    console.log(res.data)\r\n                })\r\n                .catch(error => {\r\n                    console.log(error)\r\n                })\r\n                .finally(() => {\r\n                })\r\n\r\n                await axios.get(\"/api/users/getExpendKind\").then(res => {\r\n                    expendkindList.value = res.data\r\n                    console.log('expendList',res.data)\r\n                })\r\n                .catch(error => {\r\n                    console.log(error)\r\n                })\r\n                .finally(() => {\r\n                })\r\n            }\r\n            \r\n            var store = useStore()\r\n            function closeDetailAddPopup(){\r\n                store.commit('closeAddContent')\r\n            }\r\n            function clickOk(){   \r\n                set_Content()\r\n                closeDetailAddPopup()\r\n            }\r\n            function clickEdit(){\r\n                store.commit('openEditCategory',kind.value)\r\n            }\r\n            set_kindList()\r\n\r\n            \r\n            return{\r\n                closeDetailAddPopup,\r\n                incomekindList,\r\n                expendkindList,\r\n                clickEdit,\r\n                clickOk,\r\n                kind,\r\n                date_,\r\n                set_Content,\r\n                money1,\r\n                selectContent,\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\n</script>\r\n\r\n<style>\r\n.blue-title{\r\n    font-size:2.5vh;\r\n    color: #146390;\r\n    font-weight: 900;\r\n}\r\n.input-title{\r\n    font-size:2vh;\r\n    margin-top:5vh\r\n}\r\n.select-popup{\r\n    width:50vw;\r\n    display: inline-block;\r\n}\r\n.del-btn{\r\n    background: none;\r\n    border: none;\r\n    font-size:2.2vh\r\n}\r\n.popup-back{\r\n    width:100vw;\r\n    height:100vh;\r\n    background: rgba(79, 79, 79, 0.71);\r\n}\r\n.popup-box{\r\n    width:24vw;\r\n    height:65vh;\r\n    margin:auto;\r\n    margin-top:15vh;\r\n    border-radius: 4vh;\r\n    padding:4vh 3vw\r\n}\r\n.popup-input{\r\n    display:block;\r\n    margin-top:2vh;\r\n    width:21vw;\r\n    height:2.5vh;\r\n    border-radius: 0.8vh;\r\n    padding:1vh 1vw;\r\n    background: #E9E9E9;\r\n    border:none;\r\n    font-size:1.5vh\r\n}\r\n.popup-input-white{\r\n    background: white;\r\n    border: 1px solid #949494;\r\n}\r\n.ok-btn{\r\n    margin-top:6vh;\r\n    float:right;\r\n    width:6vw;\r\n    height:4vh;\r\n    border-radius: 1vh;\r\n    border: none;\r\n    background: #146390;\r\n    color:white;\r\n    font-weight: 900;\r\n    font-size: 2vh;\r\n}\r\n.ok-btn:hover{\r\n    cursor: pointer;\r\n}\r\n.edit-icon{\r\n    width:1.7vw;\r\n    height: 3vh;\r\n    margin-left:0.5vw;\r\n    display: inline-block;\r\n    margin-top:4.5vh;\r\n    margin-bottom:2vh\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}