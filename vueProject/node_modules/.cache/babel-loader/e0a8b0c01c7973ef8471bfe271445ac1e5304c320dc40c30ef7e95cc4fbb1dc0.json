{"ast":null,"code":"import { useStore } from 'vuex';\nimport { ref, computed } from \"vue\";\nimport $ from 'jquery';\nimport axios from 'axios';\nexport default {\n  name: 'MemberAddPopup',\n  components: {},\n  setup() {\n    var position = ref(0);\n    const store = useStore(); //vuex 사용\n    var memberAddPopup = computed(() => store.state.addMember);\n    console.log(memberAddPopup.value);\n    const closeAddMemberPopup = () => store.commit(\"closeAddMember\");\n    function saveAddMember() {\n      var input_data = {\n        Position: position.value,\n        Name: document.getElementById('member-name').value,\n        PhoneNum: document.getElementById('member-tel').value,\n        Img: null,\n        Email: document.getElementById('member-email').value,\n        HomePage: document.getElementById('member-hompage').value,\n        Git: document.getElementById('member-github').value\n      };\n      console.log(input_data);\n      store.commit(\"closeAddMember\");\n      member_post_list(input_data);\n    }\n    async function member_post_list(data) {\n      console.log(\"dawdaw\");\n      await axios.post('/member/', data).then(res => {\n        console.log(this.memberInfo);\n      }).catch(error => {\n        console.log(error);\n      }).finally(() => {});\n    }\n    const readInputFile = e => {\n      //미리보기 기능\n      $('#popup_img_preview').empty();\n      var files = e.target.files;\n      var fileArr = Array.prototype.slice.call(files);\n      console.log(fileArr);\n      fileArr.forEach(function (f) {\n        if (!f.type.match(\"image/.*\")) {\n          alert(\"이미지 파일만 업로드 가능합니다\");\n          return;\n        }\n        ;\n        var reader = new FileReader();\n        reader.onload = function (e) {\n          console.log(e.target.result);\n          var html = `<img src=${e.target.result} />`;\n          $('#popup_img_preview').append(html);\n        };\n        reader.readAsDataURL(f);\n      });\n    };\n    return {\n      memberAddPopup,\n      saveAddMember,\n      closeAddMemberPopup,\n      readInputFile\n    };\n  }\n};","map":{"version":3,"names":["useStore","ref","computed","$","axios","name","components","setup","position","store","memberAddPopup","state","addMember","console","log","value","closeAddMemberPopup","commit","saveAddMember","input_data","Position","Name","document","getElementById","PhoneNum","Img","Email","HomePage","Git","member_post_list","data","post","then","res","memberInfo","catch","error","finally","readInputFile","e","empty","files","target","fileArr","Array","prototype","slice","call","forEach","f","type","match","alert","reader","FileReader","onload","result","html","append","readAsDataURL"],"sources":["/home/hyemi/bigsysWeb/wp-bigsys/src/vueProject/src/components/member/popup.vue"],"sourcesContent":["<template>\n    <div v-if=\"memberAddPopup==true\" class = \"popup\">\n        <div>\n            <div class=\"page-text\" style=\"font-size:3vh; display:inline-block \">Add Member\n                <div style=\"display:inline-block; margin-left:40vw\"><button @click=\"closeAddMemberPopup()\">X</button></div>\n            </div>\n            <div style=\"margin-top:6vh\">\n                <div id=\"popup-img\">\n                    <div id=\"popup_img_preview\">\n                        <img id=\"imgs\" style=\"width:10vw; heightL\">\n                    </div>\n                    <input id=\"customFile\" type=\"file\" @change=\"readInputFile\"/>\n                </div>\n                \n                <div style=\"float:left; margin-left:2vw\">\n                    <div class=\"popup-input\">position</div>\n                    <select v-model=\"position\" style=\"width:15vw\">\n                        <option :value=0>doctor coures</option>\n                        <option :value=1>master coures</option>\n                        <option :value=2>Undergraduate</option>\n                    </select><br>\n                    <div class=\"popup-input\">name</div><input id=\"member-name\" style=\"width:15vw\"><br>\n                    <div class=\"popup-input\">tel</div><input  id=\"member-tel\" style=\"width:15vw\" ><br>\n                    <div class=\"popup-input\">email</div><input  id=\"member-email\" style=\"width:15vw\"><br>\n                    <div class=\"popup-input\">github</div><input id=\"member-github\" style=\"width:15vw\"><br>\n                    <div class=\"popup-input\">homePage</div><input id=\"member-hompage\" style=\"width:15vw\"><br>\n                </div> \n            </div>\n\n            <button style=\"clear:both; display:block; float:right; margin-top:10vh\" @click=\"saveAddMember()\">add</button>\n            \n        </div>\n    </div>\n</template>\n\n<script>\nimport { useStore } from 'vuex';\nimport { ref,computed } from \"vue\"\nimport $ from 'jquery'; \nimport axios from 'axios';\n    export default{ \n        name:'MemberAddPopup',\n        components:{\n        },\n        setup(){\n            var position = ref(0)\n            const store = useStore(); //vuex 사용\n            var memberAddPopup = computed(()=> store.state.addMember);\n            console.log(memberAddPopup.value);\n            const closeAddMemberPopup = () => store.commit(\"closeAddMember\");\n\n            function saveAddMember(){\n                var input_data = {\n                    Position : position.value,\n                    Name : document.getElementById('member-name').value,\n                    PhoneNum : document.getElementById('member-tel').value,\n                    Img : null,\n                    Email :document.getElementById('member-email').value,\n                    HomePage : document.getElementById('member-hompage').value,\n                    Git: document.getElementById('member-github').value,\n                }\n                console.log(input_data)\n                store.commit(\"closeAddMember\");\n                member_post_list(input_data)\n            }\n            async function member_post_list(data){\n                console.log(\"dawdaw\")\n                await axios.post('/member/',data).then(res => {\n                    console.log(this.memberInfo)\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n                .finally(() => {})\n            }\n\n            const readInputFile = (e) => { //미리보기 기능\n                $('#popup_img_preview').empty();\n                var files = e.target.files;\n                var fileArr = Array.prototype.slice.call(files);\n                console.log(fileArr)\n                fileArr.forEach(function(f){\n                    if(!f.type.match(\"image/.*\")){\n                        alert(\"이미지 파일만 업로드 가능합니다\")\n                        return;\n                    };\n                    var reader = new FileReader();\n                    reader.onload = function(e){\n                        console.log(e.target.result)\n                        var html = `<img src=${e.target.result} />`;\n                        $('#popup_img_preview').append(html);\n                    };\n                    reader.readAsDataURL(f);\n                })\n            }\n            return{\n                memberAddPopup,\n                saveAddMember,\n                closeAddMemberPopup,\n                readInputFile\n            }\n            \n        }\n    }\n</script>\n\n<style>\n.middle-text{\n    font-size:1vh;\n}\n.popup{\n    background: rgba(84, 84, 84, 0.7);\n    width:100vw;\n    height:100vh;\n    position:fixed;\n}\n\n.popup > div{\n    width:45vw;\n    height:60vh;\n    background-color:white;\n    margin:auto;\n    margin-top:5vh;\n    border-radius: 1vh;\n    vertical-align: middle;\n    padding:4vh 5vw\n}\n#popup-img{\n    float: left;\n}\n#popup_img_preview{\n    width:10vw;\n    height:25vh;\n    background-color:rgb(187, 187, 187);\n}\n\n#customFile{\n    clear:both;\n    margin-top:2vh;\n}\n.popup-input{\n    display:inline-block;\n    width:7vw;\n    text-align: right;\n    margin:1vh\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}