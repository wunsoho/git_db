{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"vue3-treeview/dist/style.css\";\nimport axios from \"axios\";\nimport { RouterLink, useRouter } from \"vue-router\";\nimport { useStore } from \"vuex\";\nimport { ref, computed } from \"vue\";\nexport default {\n  name: \"group-list\",\n  setup() {\n    const router = useRouter();\n    var check = ref(true);\n    var list_number = ref([{\n      index: \"1\",\n      category_title: \"1차 카테고리\"\n    }, {\n      index: \"2\",\n      category_title: \"2차 카테고리\"\n    }, {\n      index: \"3\",\n      category_title: \"3차 카테고리\"\n    }]);\n    var list_category = ref([]);\n    var select_group = ref([]);\n    function select_category(category) {\n      //select_group.add(name)\n      select_group.value.push({\n        category: category.category,\n        image: category.image,\n        name: category.name\n      });\n      category.check = true;\n    }\n    function leave_category(category) {\n      select_group.value.pop({\n        category: category.category,\n        image: category.image,\n        name: category.name\n      });\n      category.check = false;\n    }\n    const store = useStore();\n    const OffEditGroup = () => store.commit(\"OffEdit\");\n    function AddGroup(name, index) {\n      console.log(\"추가하기\");\n      store.commit(\"OnGroupAddPopup\", name);\n      store.commit(\"SetGroupDepth\", index);\n      // store.commit(\"InsightAddY\",-1);\n    }\n\n    function EditGroup(name) {\n      store.commit(\"OnGroupEditPopup\", name);\n      // store.commit(\"InsightAddY\",-1);\n    }\n\n    function DellGroup(name) {\n      if (confirm(name + \"을 정말 삭제하시겠습니까?\") == true) {\n        del_group_server(name);\n        location.reload();\n      } else {}\n    }\n    const config = {\n      headers: {\n        Authorization: \"Bearer\" + \" \" + store.state.accessToken,\n        \"Content-Type\": \"text/html; charset=utf-8\"\n      }\n    };\n    async function del_group_server(name) {\n      console.log(name);\n      await axios.delete(\"Company/PreviewInfo/\" + name, config).then(res => {}).catch(error => {\n        alert(\"로그인 시간이 만료되었습니다.\");\n        console.log(error);\n        router.push('/');\n      }).finally(() => {});\n    }\n    async function title_get_list() {\n      await axios.get(\"Company/Organization/Simple/samsung\", config).then(res => {\n        console.log(res.data);\n        this.list_category = res.data;\n        for (let i = 0; i < res.data.length; i++) {\n          this.list_category[i].image = this.list_category[i].name[0];\n        }\n      }).catch(error => {\n        alert(\"로그인 시간이 만료되었습니다.\");\n        console.log(error);\n        router.push('/');\n      }).finally(() => {});\n    }\n    return {\n      check,\n      list_number,\n      list_category,\n      select_group,\n      select_category,\n      leave_category,\n      title_get_list,\n      OffEditGroup,\n      AddGroup,\n      EditGroup,\n      DellGroup\n    };\n  },\n  created() {\n    this.title_get_list();\n  }\n};","map":{"version":3,"names":["axios","RouterLink","useRouter","useStore","ref","computed","name","setup","router","check","list_number","index","category_title","list_category","select_group","select_category","category","value","push","image","leave_category","pop","store","OffEditGroup","commit","AddGroup","console","log","EditGroup","DellGroup","confirm","del_group_server","location","reload","config","headers","Authorization","state","accessToken","delete","then","res","catch","error","alert","finally","title_get_list","get","data","i","length","created"],"sources":["/home/hyemi/carbon/co2-emission-management/vueProject/src/components/groups/AddGroupTree2.vue"],"sourcesContent":["<template>\n  <div style=\"margin-top:5vh;\" >\n    <div style=\"width:32vw; height:75vh;overflow: auto;\">\n      <ul class=\"list-list\" style=\"list-style:none; font-weight:600 ; margin-right: 2vw; \">\n        <li style=\" margin-bottom:5vh; font-size: 0.8vw; color: #3D3E3F;\" v-for=\"number in list_number\">{{number.category_title}}\n            <div v-for=\"category in list_category\">\n              <li class=\"category_content\" v-if=\"number.index == category.category\" @mouseover=\"select_category(category)\" @mouseleave=\"leave_category(category)\">\n                  <img style=\"margin-right:1.3vw; width: 3vw; vertical-align: middle;\" src=\"@/assets/building.png\" alt=\"\" v-if=\"number.index==1\">\n                  <h class =\"category_image2\" v-if=\"number.index!=1\">{{category.image}}</h>{{category.name}}\n                  <button  class=\"Group_btn\" id=\"deleGroupbtn\" v-if=\"category.check==true\" @click=\"DellGroup(category.name)\"><img  class=\"Group_btn_imge\" src=\"@/assets/deleteBtn.png\"> </button>      \n                  <button  class=\"Group_btn\" v-if=\"category.check==true\" @click=\"AddGroup(category.name, number.index)\"><img class=\"Group_btn_imge\" src=\"@/assets/addBtn.png\"></button>\n                  <button class=\"Group_btn\"  v-if=\"category.check==true\" @click=\"EditGroup(category.name)\"><img class=\"Group_btn_imge\" src=\"@/assets/editBtn.png\" ></button>\n              </li>\n            </div>    \n        </li>\n      </ul>\n    </div>\n    \n  </div>\n\n</template>\n\n<style>\n.Group_btn{\n  height:3vh;\n  width: 4.5vh;\n  float:right;\n  margin: 0.2vw;\n  margin-top:1.5vh;\n  border:none;\n  background: none;\n}\n.Group_btn_imge{\n  height:3vh;\n  width: 3vh;\n}\n#deleGroupbtn{\n  margin-right:1vw;\n}\n.Group_btn:hover{\n  cursor:pointer\n}\n\n\n</style>\n\n<script>\nimport \"vue3-treeview/dist/style.css\";\nimport axios from \"axios\";\nimport { RouterLink,useRouter } from \"vue-router\";\nimport { useStore } from \"vuex\"\nimport { ref,computed } from \"vue\"\n\nexport default {\n  name :\"group-list\",\n  setup(){\n\n    const router = useRouter();\n    var check = ref(true)\n    var list_number = ref([\n                    {index:\"1\", category_title: \"1차 카테고리\"},\n                    {index:\"2\",category_title: \"2차 카테고리\"},\n                    {index:\"3\",category_title: \"3차 카테고리\"}\n            ])\n    var list_category = ref([            \n    ])\n    var select_group = ref([\n    ])\n  \n    function select_category(category){\n        //select_group.add(name)\n        select_group.value.push({category:category.category, image:category.image, name:category.name})\n        category.check=true\n    }\n    function leave_category(category){\n        select_group.value.pop({category:category.category, image:category.image, name:category.name})\n        category.check=false\n    }\n    const store = useStore()\n    const OffEditGroup = () => store.commit(\"OffEdit\", );\n    \n    function AddGroup(name,index){\n      console.log(\"추가하기\")\n      store.commit(\"OnGroupAddPopup\", name);\n      store.commit(\"SetGroupDepth\", index);\n      // store.commit(\"InsightAddY\",-1);\n    }\n    function EditGroup(name){\n      store.commit(\"OnGroupEditPopup\", name);\n      // store.commit(\"InsightAddY\",-1);\n    }\n    function DellGroup(name){\n      if (confirm(name+\"을 정말 삭제하시겠습니까?\") == true){ \n        del_group_server(name)\n        location.reload();\n      }else{\n      }\n    }\n\n    const config = {\n      \n      headers:{\n        Authorization:\"Bearer\"+\" \"+store.state.accessToken,\n        \"Content-Type\": \"text/html; charset=utf-8\",\n      }\n    }\n    async function del_group_server(name){\n        console.log(name)\n        await axios.delete(\"Company/PreviewInfo/\"+name,config).then(res => {\n        })\n        .catch(error => {\n            alert(\"로그인 시간이 만료되었습니다.\")\n            console.log(error)\n            router.push('/');\n        })\n        .finally(() => {})\n    }\n    async function title_get_list(){\n        await axios.get(\"Company/Organization/Simple/samsung\",config).then(res => {\n            console.log(res.data)\n            this.list_category =  res.data\n            for(let i=0;i<res.data.length;i++){\n                this.list_category[i].image =  this.list_category[i].name[0]\n            }\n        })\n        .catch(error => {\n            alert(\"로그인 시간이 만료되었습니다.\")\n            console.log(error)\n            router.push('/');\n        })\n        .finally(() => {})\n\n    }\n    return{\n        check,\n        list_number,\n        list_category,\n        select_group,\n        select_category,\n        leave_category,\n        title_get_list,\n        OffEditGroup,\n        AddGroup,\n        EditGroup,\n        DellGroup\n    }\n  } ,\n  created(){\n      this.title_get_list()\n  },\n}\n</script>\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}