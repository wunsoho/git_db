{"ast":null,"code":"import { useStore } from 'vuex';\nimport { ref } from 'vue';\nimport axios from 'axios';\nexport default {\n  name: 'accountDetailCom',\n  components: {},\n  setup() {\n    var bank = ref('');\n    var acc = ref('');\n    var money = ref(0);\n    var expendMoneyList = ref([]);\n    var incomeMoneyList = ref([]);\n    var store = useStore();\n    function closeDetailAddPopup() {\n      store.commit('closeAddContent');\n    }\n    function clickBank(clickBank) {\n      bank.value = clickBank;\n    }\n    function clickOk() {\n      closeDetailAddPopup();\n      set_total_Account();\n    }\n    var today = new Date();\n    var year = today.getFullYear();\n    var month = ('0' + (today.getMonth() + 1)).slice(-2);\n    var day = ('0' + today.getDate()).slice(-2);\n    var dateString = year + '-' + month + '-' + day;\n    async function get_total_Account_Money() {\n      await axios.get(\"/api/users/getExpendAccountMoney\").then(res => {\n        console.log(res.data);\n        expendMoneyList.value = res.data;\n        console.log('지출', expendMoneyList.value);\n      }).catch(error => {\n        console.log(error);\n      }).finally(() => {});\n      await axios.get(\"/api/users/getIncomAccountMoney\").then(res => {\n        console.log(res.data);\n        incomeMoneyList.value = res.data;\n        console.log('수익', expendMoneyList.value);\n      }).catch(error => {\n        console.log(error);\n      }).finally(() => {});\n      for (var i = 0; i < accountList.value.length; i++) {\n        if (i < expendMoneyList.value.length) {\n          accountList.value[i].money = incomeMoneyList.value[i].in_sum - expendMoneyList.value[i].ex_sum;\n        } else {\n          accountList.value[i].money = incomeMoneyList.value[i].in_sum;\n        }\n      }\n    }\n    return {\n      closeDetailAddPopup,\n      bank,\n      clickBank,\n      clickOk,\n      acc,\n      money\n    };\n  },\n  created() {\n    this.get_total_Account_Money();\n  }\n};","map":{"version":3,"names":["useStore","ref","axios","name","components","setup","bank","acc","money","expendMoneyList","incomeMoneyList","store","closeDetailAddPopup","commit","clickBank","value","clickOk","set_total_Account","today","Date","year","getFullYear","month","getMonth","slice","day","getDate","dateString","get_total_Account_Money","get","then","res","console","log","data","catch","error","finally","i","accountList","length","in_sum","ex_sum","created"],"sources":["C:\\Users\\gpal6\\DBproject\\git_db\\vueProject\\src\\components\\accountBook\\AccountBookComPopup.vue"],"sourcesContent":["<template>\r\n    <div class=\"popup-back\">\r\n        <div class=\"block popup-box\" id=\"accounBook-popup-box\">\r\n            <div class=\"blue-title\">계좌 추가하기 <button class=\"blue-title del-btn\" style=\"float:right\" @click=\"closeDetailAddPopup()\">X</button></div>\r\n\r\n            <!-- 날짜 선택 -->\r\n            <div>\r\n                <div class=\"title input-title\" style=\"margin-top:5vh\">은행사 선택  <span style=\"color:#146390\">{{ bank }}</span></div>\r\n            </div>\r\n            <div class=\"block2\">\r\n                <div style=\"width:5vw; float:left\" @click=\"clickBank('농협은행')\">\r\n                    <img src = \"@/assets/농협은행.png\" style=\"display:block;\"> \r\n                    <div>농협은행</div>\r\n                </div>\r\n                <div style=\"width:5vw; float:left\" @click=\"clickBank('카카오뱅크')\">\r\n                    <img src = \"@/assets/카카오뱅크.png\" style=\"display:block;\"> \r\n                    <div>카카오뱅크</div>\r\n                </div>\r\n                <div style=\"width:5vw; float:left\" @click=\"clickBank('기업은행')\">\r\n                    <img src = \"@/assets/기업은행.png\" style=\"display:block;\"> \r\n                    <div>기업은행</div>\r\n                </div>\r\n                <div style=\"width:5vw; float:left\" @click=\"clickBank('우리은행')\">\r\n                    <img src = \"@/assets/우리은행.png\" style=\"display:block;\"> \r\n                    <div>우리은행</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"block2\">\r\n                <div style=\"width:5vw; float:left\" @click=\"clickBank('국민은행')\">\r\n                    <img src = \"@/assets/국민은행.png\" style=\"display:block;\"> \r\n                    <div>국민은행</div>\r\n                </div>\r\n                <div style=\" width:5vw; float:left\" @click=\"clickBank('하나은행')\">\r\n                    <img src = \"@/assets/하나은행.png\" style=\"display:block;\"> \r\n                    <div>하나은행</div>\r\n                </div>\r\n                <div style=\"width:5vw; float:left\" @click=\"clickBank('신한은행')\">\r\n                    <img src = \"@/assets/신한은행.png\" style=\"display:block;\"> \r\n                    <div>신한은행</div>\r\n                </div>\r\n                <div style=\"width:5vw; float:left\" @click=\"clickBank('새마을금고')\">\r\n                    <img src = \"@/assets/새마을금고.png\" style=\"display:block;\"> \r\n                    <div>새마을금고</div>\r\n                </div>\r\n            </div>   \r\n             \r\n            <div>\r\n                <div class=\"title input-title\" >계좌번호 입력</div>\r\n                <input class=\"popup-input popup-input-white\" v-model=\"acc\">\r\n            </div>\r\n            <div>\r\n                <div class=\"title input-title\">잔고입력</div><br>\r\n                <input class=\"popup-input popup-input-white\" v-model=\"money\" style=\"width:18vw; display: inline-block;\">\r\n                <div class=\"title\" style=\"display: inline-block; margin-left:1vw; margin-top:1vh; font-size:2vh\">원</div>\r\n            </div>\r\n            <button class=\"ok-btn\" @click=\"clickOk()\">확인</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { useStore } from 'vuex';\r\nimport {ref} from 'vue';\r\nimport axios from 'axios'\r\n    export default{ \r\n        name:'accountDetailCom',\r\n        components:{\r\n        },\r\n        setup(){\r\n            var bank = ref('')\r\n            var acc=ref('')\r\n            var money = ref(0)\r\n            var expendMoneyList = ref([])\r\n            var incomeMoneyList = ref([])\r\n            var store = useStore()\r\n            function closeDetailAddPopup(){\r\n                store.commit('closeAddContent')\r\n            }    \r\n\r\n            function clickBank(clickBank){\r\n                bank.value = clickBank\r\n            }\r\n\r\n            function clickOk(){\r\n                closeDetailAddPopup()\r\n                set_total_Account()\r\n            }\r\n\r\n            var today = new Date();\r\n\r\n            var year = today.getFullYear();\r\n            var month = ('0' + (today.getMonth() + 1)).slice(-2);\r\n            var day = ('0' + today.getDate()).slice(-2);\r\n\r\n            var dateString = year + '-' + month  + '-' + day;\r\n\r\n\r\n            async function get_total_Account_Money(){\r\n                await axios.get(\"/api/users/getExpendAccountMoney\").then(res => {\r\n                    console.log(res.data)\r\n                    expendMoneyList.value = res.data\r\n                    console.log('지출',expendMoneyList.value)\r\n                })\r\n                .catch(error => {\r\n                    console.log(error)\r\n                })\r\n                .finally(() => {\r\n                })\r\n\r\n                await axios.get(\"/api/users/getIncomAccountMoney\").then(res => {\r\n                    console.log(res.data)\r\n                    incomeMoneyList.value = res.data\r\n                    console.log('수익',expendMoneyList.value)\r\n                })\r\n                .catch(error => {\r\n                    console.log(error)\r\n                })\r\n                .finally(() => {\r\n                })\r\n\r\n                for (var i=0; i<accountList.value.length; i++){\r\n                    if(i<expendMoneyList.value.length){\r\n                        accountList.value[i].money = incomeMoneyList.value[i].in_sum - expendMoneyList.value[i].ex_sum\r\n                    }\r\n                    else{\r\n                        accountList.value[i].money = incomeMoneyList.value[i].in_sum\r\n                    }\r\n                    \r\n                }\r\n\r\n            }\r\n\r\n\r\n            return{\r\n                closeDetailAddPopup,\r\n                bank,\r\n                clickBank,\r\n                clickOk,\r\n                acc,\r\n                money\r\n            }\r\n        },\r\n        created(){\r\n            this.get_total_Account_Money()\r\n        }\r\n    }\r\n\r\n\r\n</script>\r\n\r\n<style>\r\n#accounBook-popup-box{\r\n    height:70vh;\r\n    margin-top:10vh\r\n}\r\n.block2  img{\r\n    width:3vw;\r\n    margin-left:1vw;\r\n}\r\n\r\n.block2  div{\r\n    text-align:center;\r\n}\r\n\r\n.block2 > div{\r\n    margin-left:0.8vw;\r\n    margin-top:3vh\r\n}\r\n\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}