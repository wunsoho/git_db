{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx } from \"vue\";\nimport _imports_0 from '@/assets/LockGroup.png';\nconst _hoisted_1 = {\n  class: \"group-tree\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"권한 따라 잠금\",\n  class: \"lock-group\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"group-lock-guide\"\n}, \"회사 조직을 설계하세요\", -1 /* HOISTED */);\nconst _hoisted_5 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_GroupTreeNode = _resolveComponent(\"GroupTreeNode\");\n  const _component_blocks_tree = _resolveComponent(\"blocks-tree\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 임시 \"), _ctx.IfTreeNull ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createCommentVNode(\" 그룹이 없으면 보여줌 \"), _hoisted_3, _hoisted_4, _createElementVNode(\"button\", {\n    class: \"add-group-button-Intree\",\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.OnEditGroup && _ctx.OnEditGroup(...args)),\n    type: \"button\"\n  }, \"+ 추가하기\")])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createCommentVNode(\" 그룹이 있으면 그룹 보여줌 \"), _createVNode(_component_blocks_tree, {\n    id: \"tree\",\n    data: _ctx.treeData,\n    horizontal: _ctx.treeOrientation == '1',\n    collapsable: true,\n    props: {\n      label: 'label',\n      expand: 'expand',\n      children: 'Children',\n      key: 'id'\n    }\n  }, {\n    node: _withCtx(({\n      data\n    }) => [_createVNode(_component_GroupTreeNode, {\n      Scope1: data.Scope1,\n      Scope2: data.Scope2,\n      Scope3: data.Scope3,\n      manager: data.Chief,\n      level: data.id,\n      GroupName: data.label\n    }, null, 8 /* PROPS */, [\"Scope1\", \"Scope2\", \"Scope3\", \"manager\", \"level\", \"GroupName\"])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data\", \"horizontal\"])]))]);\n}","map":{"version":3,"names":["_imports_0","class","_createElementVNode","src","alt","_createElementBlock","_hoisted_1","_createCommentVNode","_ctx","IfTreeNull","_hoisted_2","_hoisted_3","_hoisted_4","onClick","_cache","args","OnEditGroup","type","_hoisted_5","_createVNode","_component_blocks_tree","id","data","treeData","horizontal","treeOrientation","collapsable","props","label","expand","children","key","node","_withCtx","_component_GroupTreeNode","Scope1","Scope2","Scope3","manager","Chief","level","GroupName"],"sources":["/home/hyemi/carbon/co2-emission-management/vueProject/src/components/groups/Group-tree.vue"],"sourcesContent":["<template>\n    <div class=\"group-tree\">\n         <!-- 임시 -->\n        <div v-if=\"IfTreeNull\"><!-- 그룹이 없으면 보여줌 -->\n          <img src=\"@/assets/LockGroup.png\" alt=\"권한 따라 잠금\" class=\"lock-group\">\n          <span class=\"group-lock-guide\">회사 조직을 설계하세요</span>\n          <button class=\"add-group-button-Intree\" @click=\"OnEditGroup\" type=\"button\">+ 추가하기</button>\n        </div>\n        <div v-else><!-- 그룹이 있으면 그룹 보여줌 -->\n          <blocks-tree  id=\"tree\" :data=\"treeData\" :horizontal=\"treeOrientation=='1'\" :collapsable=\"true\" :props=\"{label: 'label', expand: 'expand', children: 'Children',  key:'id'}\">\n            <template #node=\"{data}\" id=\"tree2\" >\n                <GroupTreeNode :Scope1=data.Scope1 :Scope2=data.Scope2 :Scope3=data.Scope3 :manager=data.Chief :level=data.id :GroupName=data.label></GroupTreeNode>\n            </template>\n         </blocks-tree>\n        </div>\n    </div>\n</template>\n\n<style>\n.group-tree{\n    min-height: 86vh;   /*header랑 합쳐서 100이 되어야 함*/\n    height: inherit;\n    position: relative;\n    /* 점 배경 */\n    background-image: linear-gradient(to bottom, transparent, transparent 10%, #F7F9FB 10%),\n      linear-gradient(to right, rgba(0, 0, 0, 0.342), rgba(0, 0, 0, 0.103) 3%, #F7F9FB 10%);\n    background-size: 20px 20px;\n\n    text-align: center;\n    max-width: 85vw;\n  }\n  .lock-group{\n    width: 150px;\n    position: absolute;\n    left: 50%;\n    bottom: 40%;\n    transform: translate(-50%,-50%);\n  }\n  .group-lock-guide{\n    position: absolute;\n    left: 50%;\n    bottom: 42%;\n    transform: translate(-50%,-50%);\n  }\n  .add-group-button-Intree{\n    width: 110px;\n    height: 3.5vh;\n    background: #3DC984;\n    border: none;\n    border-radius: 8px;\n    font-weight: 600;\n    font-size: 13px;\n    \n    color: #FFFFFF;\n    position: absolute;\n    left: 50%;\n    bottom: 30%;\n    transform: translate(-50%,-50%);\n  }\n  #tree{\n    background: none;\n    margin-top: 4vh;\n  }\n  .org-tree-node-label-inner{\n    box-shadow:none !important ;\n    padding: 0 !important;\n  }\n</style>\n\n\n<script>\nimport { useStore } from \"vuex\";\nimport { defineComponent,ref,reactive,onMounted} from 'vue';\nimport GroupTreeNode from \"./GroupTreeNode.vue\"\nimport axios from \"axios\";\nimport { useRouter } from \"vue-router\";\n    export default defineComponent({\n       async setup(){\n          const store = useStore(); //vuex 사용\n          const router = useRouter();\n          \n          const OnEditGroup = () => store.commit(\"OnEdit\", );\n          var IfTreeNull=ref(false);\n          function change(){\n            console.log(this.IfTreeNull)\n            this.IfTreeNull = !this.IfTreeNull\n          }\n\n          let selected = ref([]);\n          let treeOrientation = ref(\"0\"); //수직 or수평\n          var treeData = ref({}) \n          let testtree = ref({\n              label: 'root',\n              expand: true,\n              some_id: 1,\n              Chief:'하하',\n              Scope1:1,\n              Children: [\n                  { label: '상경대학', some_id: 2, Chief:'히히',something:'ㅇㅈㅁㅇㅁㅈㅇ'},\n                  { label: '자연대학', some_id: 3, Chief:'호호',},\n                  { \n                      label: '공과대학', \n                      some_id: 4, \n                      expand: false, \n                      Children: [\n                          { label: '항공소프트웨어공학과', some_id: 5 },\n                          {  \n                              label: '기계공학과', \n                              some_id: 6, \n                              expand: false, \n                              Children: [\n                                  { label: 'subchild 11', some_id: 7 },\n                                  { label: 'subchild 22', some_id: 8 },\n                              ]\n                          },\n                      ]\n                  },\n              ],\n          });\n          \n          const config = {\n            headers:{\n              Authorization:\"Bearer\"+\" \"+store.state.accessToken,\n              \"Content-Type\": \"text/html; charset=utf-8\",\n            }\n          }\n          async function get_tree(){\n              await axios.get(\"/Company/Organization/samsung\",config).then(res => {\n                    console.log(res.data)\n                    treeData = res.data\n                    store.commit(\"SetGroupTree\",res.data);\n\n                })\n                .catch(error => {\n                  alert(\"로그인 시간이 만료되었습니다.\")\n                  console.log(error)\n                  router.push('/');\n                })\n                .finally(() => {\n                  console.log(\"lender1\")\n                  //treeData = testtree\n                })\n            }\n\n            await get_tree()\n\n        return {\n          get_tree,\n          treeData,\n          selected,\n          treeOrientation,\n          OnEditGroup,\n          IfTreeNull,change,testtree\n          }\n        },\n        name :\"Group-tree\",\n        components:{\n            GroupTreeNode\n        },\n        created(){     \n       },   \n    })\n</script>"],"mappings":";OAIeA,UAA4B;;EAHlCC,KAAK,EAAC;AAAY;;;;gCAGjBC,mBAAA,CAAoE;EAA/DC,GAA4B,EAA5BH,UAA4B;EAACI,GAAG,EAAC,UAAU;EAACH,KAAK,EAAC;;gCACvDC,mBAAA,CAAkD;EAA5CD,KAAK,EAAC;AAAkB,GAAC,cAAY;;;;;;;uBAJjDI,mBAAA,CAcM,OAdNC,UAcM,GAbDC,mBAAA,QAAW,EACDC,IAAA,CAAAC,UAAU,I,cAArBJ,mBAAA,CAIM,OAAAK,UAAA,GAJiBH,mBAAA,iBAAoB,EACzCI,UAAoE,EACpEC,UAAkD,EAClDV,mBAAA,CAA0F;IAAlFD,KAAK,EAAC,yBAAyB;IAAEY,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEP,IAAA,CAAAQ,WAAA,IAAAR,IAAA,CAAAQ,WAAA,IAAAD,IAAA,CAAW;IAAEE,IAAI,EAAC;KAAS,QAAM,E,oBAEnFZ,mBAAA,CAMM,OAAAa,UAAA,GANMX,mBAAA,oBAAuB,EACjCY,YAAA,CAIaC,sBAAA;IAJCC,EAAE,EAAC,MAAM;IAAEC,IAAI,EAAEd,IAAA,CAAAe,QAAQ;IAAGC,UAAU,EAAEhB,IAAA,CAAAiB,eAAe;IAAQC,WAAW,EAAE,IAAI;IAAGC,KAAK,EAAE;MAAAC,KAAA;MAAAC,MAAA;MAAAC,QAAA;MAAAC,GAAA;IAAA;;IAC3FC,IAAI,EAAAC,QAAA,CACX,CAAoJ;MADtIX;IAAI,OAClBH,YAAA,CAAoJe,wBAAA;MAApIC,MAAM,EAACb,IAAI,CAACa,MAAM;MAAEC,MAAM,EAACd,IAAI,CAACc,MAAM;MAAEC,MAAM,EAACf,IAAI,CAACe,MAAM;MAAEC,OAAO,EAAChB,IAAI,CAACiB,KAAK;MAAEC,KAAK,EAAClB,IAAI,CAACD,EAAE;MAAEoB,SAAS,EAACnB,IAAI,CAACM"},"metadata":{},"sourceType":"module","externalDependencies":[]}