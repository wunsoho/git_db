{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"group-preview\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"preview-text-title\"\n}, \"preview\", -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"select-preview\"\n};\nconst _hoisted_4 = {\n  class: \"preview-text-groupname\"\n};\nconst _hoisted_5 = {\n  class: \"preview-text-totalEmission\"\n};\nconst _hoisted_6 = {\n  class: \"preview-emission-list\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", null, \"전체 대비 탄소 배출량 비율\", -1 /* HOISTED */);\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"progress\", {\n  class: \"preview-TotalEmission-ratio\",\n  value: \"100\",\n  max: \"100\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_9 = {\n  style: {\n    \"margin-top\": \"4vh\"\n  }\n};\nconst _hoisted_10 = [\"value\", \"max\"];\nconst _hoisted_11 = [\"value\", \"max\"];\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"preview-move-button\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"move-PreviewToEditEmission\",\n  onclick: \"location.href='/measure';\"\n}, \"탄소 배출 입력하기\"), /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"move-PreviewToEditEmission\",\n  onclick: \"location.href='/insight';\"\n}, \"리포트 이동하기\")], -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"button\", {\n    class: \"close-preview\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.Offpreview && $setup.Offpreview(...args))\n  }, \"X\"), _hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", {\n    class: \"select-preview-item\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $setup.OnTotalPreview && $setup.OnTotalPreview(...args))\n  }, \"탄소 배출량\"), _createElementVNode(\"div\", {\n    class: \"select-preview-item\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $setup.OnDetailPreview && $setup.OnDetailPreview(...args))\n  }, \"탄소 배출량 상세\"), _createElementVNode(\"div\", {\n    class: \"select-preview-item\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $setup.OnInfoPreview && $setup.OnInfoPreview(...args))\n  }, \"정보\")]), _createElementVNode(\"div\", _hoisted_4, _toDisplayString($setup.GroupName) + \" 탄소 배출량\", 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_5, _toDisplayString($setup.scope12CarbonEmission + $setup.scope3CarbonEmission) + \"KG\", 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _hoisted_8, _createElementVNode(\"div\", _hoisted_9, _toDisplayString($setup.scope12CarbonEmission) + \"kg\", 1 /* TEXT */), _createElementVNode(\"progress\", {\n    class: \"preview-scope-ratio\",\n    value: $setup.scope12CarbonEmission,\n    max: $setup.scope12CarbonEmission + $setup.scope3CarbonEmission\n  }, null, 8 /* PROPS */, _hoisted_10), _createElementVNode(\"div\", null, _toDisplayString($setup.scope3CarbonEmission) + \"kg\", 1 /* TEXT */), _createElementVNode(\"progress\", {\n    class: \"preview-scope-ratio\",\n    value: $setup.scope3CarbonEmission,\n    max: $setup.scope12CarbonEmission + $setup.scope3CarbonEmission\n  }, null, 8 /* PROPS */, _hoisted_11)]), _hoisted_12]);\n}","map":{"version":3,"names":["class","_createElementVNode","value","max","style","onclick","_createElementBlock","_hoisted_1","onClick","_cache","args","$setup","Offpreview","_hoisted_2","_hoisted_3","OnTotalPreview","OnDetailPreview","OnInfoPreview","_hoisted_4","_toDisplayString","GroupName","_hoisted_5","scope12CarbonEmission","scope3CarbonEmission","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_12"],"sources":["/home/hyemi/carbon/co2-emission-management/vueProject/src/components/groups/PreviewEmission.vue"],"sourcesContent":["<template>\n<div class=\"group-preview\">\n    <button class=\"close-preview\" @click=\"Offpreview\">X</button>\n    <div class=\"preview-text-title\">preview</div>\n    <div class=\"select-preview\">\n        <div class=\"select-preview-item\" @click=\"OnTotalPreview\">탄소 배출량</div>\n        <div class=\"select-preview-item\" @click=\"OnDetailPreview\">탄소 배출량 상세</div>\n        <div class=\"select-preview-item\" @click=\"OnInfoPreview\">정보</div>\n    </div>\n    <div class=\"preview-text-groupname\">{{GroupName}} 탄소 배출량</div>\n    <div class=\"preview-text-totalEmission\">{{scope12CarbonEmission+scope3CarbonEmission}}KG</div>\n\n    <div class=\"preview-emission-list\">\n        <div>전체 대비 탄소 배출량 비율</div>\n        <progress class=\"preview-TotalEmission-ratio\" value=\"100\" max=\"100\"></progress>\n        \n        <div style=\"margin-top:4vh\">{{scope12CarbonEmission}}kg</div>\n        <progress class=\"preview-scope-ratio\" :value=\"scope12CarbonEmission\" :max=\"scope12CarbonEmission+scope3CarbonEmission\"></progress>\n        <div>{{scope3CarbonEmission}}kg</div>\n        <progress class=\"preview-scope-ratio\" :value=\"scope3CarbonEmission\" :max=\"scope12CarbonEmission+scope3CarbonEmission\"></progress>\n    </div>        \n\n    <div class=\"preview-move-button\">\n        <button class=\"move-PreviewToEditEmission\"   onclick=\"location.href='/measure';\">탄소 배출 입력하기</button>\n        <button class=\"move-PreviewToEditEmission\" onclick=\"location.href='/insight';\">리포트 이동하기</button>\n    </div>\n</div>\n</template>\n\n<style>\n.group-preview{\n    height: 100%;\n    width: 456px;\n    background-color: rgb(255, 255, 255);\n    border-color:rgba(228, 228, 228, 0.26) ;\n    border-style: groove  ;\n}\n.close-preview{\n    float: right;\n    margin: 15px;\n}\n.preview-text-title{\n    font-size:24px;\n    font-weight:550;\n    margin-left:4vw;\n    margin-top:5vh;\n}\n.preview-text-groupname{\n    font-size:22px;\n    font-weight:550;\n    margin-left:4vw;\n    margin-top:10vh;\n}\n.preview-text-totalEmission{\n    font-size:24px;\n    font-weight:550;\n    margin-left:4vw;\n    margin-top:1.5vh;\n    color: #3DC984;\n}\n.preview-emission-list{\n    position: absolute;\n    left: 53%;\n    top: 30%;\n    transform: translateX(-50%);\n    width: 75%;\n    max-height: 67vh;\n    font-size: 18px;\n}\n.select-preview{\n    background-color: #F0F2F5;\n    display: flex;\n    width: 70%;\n    height: 4%;\n    position: absolute;\n    left: 50%;\n    top: 10%;\n    transform: translateX(-50%);  \n    justify-content: center;\n    font-weight: 700;\n    border-radius:12px ;\n}\n.select-preview-item{\n    margin:3px ;\n    padding:6px;\n    color:rgba(0, 0, 0, 0.5);\n    \n}\n.select-preview-item:hover{\n    padding:6px;\n    background-color:white ;\n    color:#3DC984;\n    border-radius: 10px;\n}\n.move-PreviewToEditEmission{\n    \n    margin:2vh;\n    width: 167px;\n    height: 61px;\n    background: #3DC984;\n    border: none;\n    border-radius: 8px;\n    font-weight: 600;\n    font-size: 13px;\n    color: #FFFFFF;\n}\n.preview-move-button{\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    text-align: center;\n    position: absolute;\n    left: 50%;\n    bottom: 7%;\n    transform: translateX(-50%);  \n}\n.preview-TotalEmission-ratio{\n    width: 320px;\n    height: 16px;\n    background: rgba(217, 217, 217, 0.5);\n    border-radius: 40px;\n}\n.preview-scope-ratio{\n    width: 320px;\n    height: 16px;\n    border-radius: 20px;\n    background: #D9D9D9;\n}\n/* 프로그래스바 옵션 */\nprogress::-webkit-progress-bar {\n    border: 0;\n    border-radius: 20px;\n    background-color: #D9D9D9;\n}\nprogress::-webkit-progress-value {\n    border: 0;\n    border-radius: 20px;\n    background-color: #3DC984;\n}\n</style>\n\n<script>\nimport { computed,ref } from \"vue\";\nimport { useStore } from \"vuex\";\nimport axios from \"axios\";\nexport default{ \n    name:'',\n    components:{},\n    setup(){\n        const store = useStore(); //vuex 사용\n        const Offpreview = () => store.commit(\"OffGroupPreview\", );\n        const OnTotalPreview = () => store.commit(\"OnGroupPreview\", \"total\");\n        const OnDetailPreview = () => store.commit(\"OnGroupPreview\", \"detail\");\n        const OnInfoPreview = () => store.commit(\"OnGroupPreview\", \"info\");\n        var today = new Date();\n        var year = today.getFullYear()\n\n        var GroupName =ref(\"\") \n        GroupName= computed(() => store.state.group_tree_selected_company);\n\n        var scope12CarbonEmission = ref(1);\n        var scope3CarbonEmission = ref(7);\n        var month = computed(() => store.state.insight_month+1);\n        var config = {\n            headers:{\n            \"Authorization\":\"Bearer\"+\" \"+store.state.accessToken\n            \n            }\n        }\n        async function get_total_emission(){\n            await axios.get(\"Company/Preview/\"+store.state.group_tree_selected_company+\"/\"+year+\"-01-01/\"+year+\"-12-31\",config).then(res => {\n                console.log(res.data) \n                scope12CarbonEmission.value = res.data.Scopes[0]+res.data.Scopes[1]\n                scope3CarbonEmission.value = res.data.Scopes[2]\n            })\n            .catch(error => {\n                \n                console.log(error)\n                \n            })\n            .finally(() => {\n            })\n        }\n        \n\n        var TotalEmission = ref(scope3CarbonEmission.value + scope12CarbonEmission.value)\n\n        return{Offpreview,GroupName,TotalEmission,scope12CarbonEmission,scope3CarbonEmission,\n            OnTotalPreview,OnDetailPreview,OnInfoPreview,get_total_emission}\n    },\n    created(){\n        this.get_total_emission()\n    },\n    mounted(){},\n    unmounted(){},\n    methods:{}\n}\n</script>"],"mappings":";;EACKA,KAAK,EAAC;AAAe;gCAEtBC,mBAAA,CAA6C;EAAxCD,KAAK,EAAC;AAAoB,GAAC,SAAO;;EAClCA,KAAK,EAAC;AAAgB;;EAKtBA,KAAK,EAAC;AAAwB;;EAC9BA,KAAK,EAAC;AAA4B;;EAElCA,KAAK,EAAC;AAAuB;gCAC9BC,mBAAA,CAA0B,aAArB,iBAAe;gCACpBA,mBAAA,CAA+E;EAArED,KAAK,EAAC,6BAA6B;EAACE,KAAK,EAAC,KAAK;EAACC,GAAG,EAAC;;;EAEzDC,KAAsB,EAAtB;IAAA;EAAA;AAAsB;;;iCAM/BH,mBAAA,CAGM;EAHDD,KAAK,EAAC;AAAqB,I,aAC5BC,mBAAA,CAAoG;EAA5FD,KAAK,EAAC,4BAA4B;EAAGK,OAAO,EAAC;GAA4B,YAAU,G,aAC3FJ,mBAAA,CAAgG;EAAxFD,KAAK,EAAC,4BAA4B;EAACK,OAAO,EAAC;GAA4B,UAAQ,E;;;uBAvB/FC,mBAAA,CAyBM,OAzBNC,UAyBM,GAxBFN,mBAAA,CAA4D;IAApDD,KAAK,EAAC,eAAe;IAAEQ,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,MAAA,CAAAC,UAAA,IAAAD,MAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;KAAE,GAAC,GACnDG,UAA6C,EAC7CZ,mBAAA,CAIM,OAJNa,UAIM,GAHFb,mBAAA,CAAqE;IAAhED,KAAK,EAAC,qBAAqB;IAAEQ,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,MAAA,CAAAI,cAAA,IAAAJ,MAAA,CAAAI,cAAA,IAAAL,IAAA,CAAc;KAAE,QAAM,GAC/DT,mBAAA,CAAyE;IAApED,KAAK,EAAC,qBAAqB;IAAEQ,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,MAAA,CAAAK,eAAA,IAAAL,MAAA,CAAAK,eAAA,IAAAN,IAAA,CAAe;KAAE,WAAS,GACnET,mBAAA,CAAgE;IAA3DD,KAAK,EAAC,qBAAqB;IAAEQ,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,MAAA,CAAAM,aAAA,IAAAN,MAAA,CAAAM,aAAA,IAAAP,IAAA,CAAa;KAAE,IAAE,E,GAE9DT,mBAAA,CAA8D,OAA9DiB,UAA8D,EAAAC,gBAAA,CAAxBR,MAAA,CAAAS,SAAS,IAAE,SAAO,iBACxDnB,mBAAA,CAA8F,OAA9FoB,UAA8F,EAAAF,gBAAA,CAApDR,MAAA,CAAAW,qBAAqB,GAACX,MAAA,CAAAY,oBAAoB,IAAE,IAAE,iBAExFtB,mBAAA,CAQM,OARNuB,UAQM,GAPFC,UAA0B,EAC1BC,UAA+E,EAE/EzB,mBAAA,CAA6D,OAA7D0B,UAA6D,EAAAR,gBAAA,CAA/BR,MAAA,CAAAW,qBAAqB,IAAE,IAAE,iBACvDrB,mBAAA,CAAkI;IAAxHD,KAAK,EAAC,qBAAqB;IAAEE,KAAK,EAAES,MAAA,CAAAW,qBAAqB;IAAGnB,GAAG,EAAEQ,MAAA,CAAAW,qBAAqB,GAACX,MAAA,CAAAY;wCACjGtB,mBAAA,CAAqC,aAAAkB,gBAAA,CAA9BR,MAAA,CAAAY,oBAAoB,IAAE,IAAE,iBAC/BtB,mBAAA,CAAiI;IAAvHD,KAAK,EAAC,qBAAqB;IAAEE,KAAK,EAAES,MAAA,CAAAY,oBAAoB;IAAGpB,GAAG,EAAEQ,MAAA,CAAAW,qBAAqB,GAACX,MAAA,CAAAY;0CAGpGK,WAGM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}