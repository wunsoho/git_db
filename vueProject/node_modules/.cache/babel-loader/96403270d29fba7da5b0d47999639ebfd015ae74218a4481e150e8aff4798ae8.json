{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { RouterLink, useRouter } from \"vue-router\";\nimport axios from \"axios\";\nexport default {\n  name: \"AddPopup\",\n  components: {},\n  setup() {\n    const router = useRouter();\n    const store = useStore(); //vuex 사용\n    var GroupEditBtn = computed(() => store.state.GroupEditBtn);\n    console.log('수정 팝업창 클릭', GroupEditBtn);\n    var group_name = computed(() => store.state.group_name);\n    var depth = computed(() => store.state.depth);\n    function offpopup() {\n      store.commit(\"OffGroupEditPopup\");\n    }\n    function editGroup() {\n      var group_list = {\n        ComName: document.getElementById(\"input_Groupname_edit\").value,\n        Scope1: null,\n        Scope2: null,\n        Scope3: null,\n        Classification: \"\",\n        Description: \"\",\n        Location: \"\",\n        Chief: document.getElementById(\"input_chiefname_edit\").value,\n        Admin: document.getElementById(\"input_chiefname_edit\").value\n      };\n      console.log(\"수정하기\", group_list);\n      edit_group_server(group_list);\n      // store.commit(\"InsightAddY\",-1);\n      store.commit(\"OffGroupEditPopup\");\n    }\n    async function edit_group_server(group_list) {\n      var config = {\n        headers: {\n          \"Authorization\": \"Bearer\" + \" \" + store.state.accessToken\n        }\n      };\n      console.log(\"수정하기\", group_list);\n      await axios.put(\"Company/PreviewInfo/\" + group_name.value, group_list, config).then(res => {\n        console.log(res.data);\n      }).catch(error => {\n        alert(\"로그인 시간이 만료되었습니다.\");\n        console.log(error);\n        router.push('/');\n      }).finally(() => {});\n      location.reload();\n    }\n    return {\n      GroupEditBtn,\n      offpopup,\n      group_name,\n      editGroup,\n      depth,\n      edit_group_server\n    };\n  },\n  mounted() {},\n  destroyed() {}\n};","map":{"version":3,"names":["computed","useStore","RouterLink","useRouter","axios","name","components","setup","router","store","GroupEditBtn","state","console","log","group_name","depth","offpopup","commit","editGroup","group_list","ComName","document","getElementById","value","Scope1","Scope2","Scope3","Classification","Description","Location","Chief","Admin","edit_group_server","config","headers","accessToken","put","then","res","data","catch","error","alert","push","finally","location","reload","mounted","destroyed"],"sources":["C:\\Users\\ohminjin\\Desktop\\캡스톤\\co2-emission-management\\vueProject\\src\\components\\groups\\EditPopup.vue"],"sourcesContent":["<template>\r\n    <div class =\"active\" id=\"addpopup\" v-if=\"GroupEditBtn==true\">\r\n        <div class=\"Addpopup\">조직 수정하기\r\n            <span id=\"del_btn\" @click=\"offpopup()\">x</span><br>\r\n            <div style=\"font-size:1.1rem; margin-left:2vw; margin-top:5vh; color:#505050\">\r\n                <div style=\"float:left; margin-left:1vw\">\r\n                    선택한 조직명<br>\r\n                    <p style=\"margin-top:1.6vh; font-weight: 200; font-size: 2vh; width: 8vw;\">{{group_name}}</p>\r\n                </div>\r\n                <p style=\"float:left; margin-left:3vw\">→</p>\r\n                <div style=\"margin-left:5vw; float:left;\">\r\n                    수정할 조직명<br>\r\n                    <input id = \"input_Groupname_edit\">\r\n                </div>\r\n                <div style=\"float:left; margin-left:1vw\">\r\n                    관리자\r\n                    <input id = \"input_chiefname_edit\">\r\n                </div>\r\n                \r\n            </div>\r\n            <button class=\"save_add_group\" @click=\"editGroup()\">저장하기</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<style>\r\n#addpopup{\r\n    position:fixed;\r\n    z-index:1;\r\n    padding:30vh 20vw;\r\n}\r\n.Addpopup{\r\n    width:40vw;\r\n    height:41vh;\r\n    background: #ffffff;\r\n    box-sizing: border-box;\r\n    padding:4vh 6vh 3vw 3vw;\r\n    font-size: 1.5rem;\r\n    font-weight: 900;\r\n}\r\n#del_btn{\r\n    float:right; \r\n    font-size: 1.5rem;\r\n}\r\n#del_btn:hover{\r\n    cursor: pointer;\r\n}\r\n#input_Groupname_edit{\r\n    margin-top: 2vh;\r\n    width:10vw;\r\n    height: 3vh;\r\n    background: #F7F8F8;\r\n    border: 1px solid #DDE2E6;\r\n    border-radius: 5px;\r\n}\r\n#input_chiefname_edit{\r\n    margin-top:4vh;\r\n    margin-left:2vw;\r\n    width:22vw;\r\n    height: 2.5vh;\r\n    background: #F7F8F8;\r\n    border: 1px solid #DDE2E6;\r\n    border-radius: 5px;\r\n}\r\n.save_add_group{\r\n    float: right;\r\n    margin-top:5.5vh;\r\n    width: 7vw;\r\n    height: 3.5vh;\r\n    background: #ffffff;\r\n    border:1px solid #C3B7B7;\r\n    border-radius: 8px;\r\n    font-weight: 600;\r\n    font-size: 13px;\r\n    color: #505050;\r\n}\r\n.save_add_group:hover{\r\n    cursor: pointer;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport { computed } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { RouterLink,useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\n    export default {\r\n        name :\"AddPopup\",\r\n        components:{\r\n        },\r\n        setup(){\r\n            const router = useRouter();\r\n            const store = useStore(); //vuex 사용\r\n            var GroupEditBtn = computed(()=> store.state.GroupEditBtn);\r\n            console.log('수정 팝업창 클릭', GroupEditBtn)\r\n            var group_name = computed(()=> store.state.group_name);\r\n            var depth = computed(()=> store.state.depth);\r\n            function offpopup(){\r\n                store.commit(\"OffGroupEditPopup\");\r\n            }\r\n\r\n            function editGroup(){\r\n                var group_list={\r\n                    ComName:document.getElementById(\"input_Groupname_edit\").value,\r\n                    Scope1:null,\r\n                    Scope2:null,\r\n                    Scope3:null,\r\n                    Classification:\"\",\r\n                    Description:\"\",\r\n                    Location:\"\",\r\n                    Chief:document.getElementById(\"input_chiefname_edit\").value,\r\n                    Admin:document.getElementById(\"input_chiefname_edit\").value,\r\n                }\r\n                console.log(\"수정하기\",group_list)\r\n                edit_group_server(group_list)\r\n                // store.commit(\"InsightAddY\",-1);\r\n                store.commit(\"OffGroupEditPopup\");\r\n            }\r\n            async function edit_group_server(group_list){\r\n                var config = {\r\n                    headers:{\r\n                    \"Authorization\":\"Bearer\"+\" \"+store.state.accessToken\r\n                    }\r\n                }\r\n                console.log(\"수정하기\",group_list)\r\n                await axios.put(\"Company/PreviewInfo/\"+group_name.value, group_list, config).then(res => {\r\n                    console.log(res.data)\r\n                })\r\n                .catch(error => {\r\n                    alert(\"로그인 시간이 만료되었습니다.\")\r\n                    console.log(error)\r\n                    router.push('/');\r\n                })\r\n                .finally(() => {})\r\n                location.reload();\r\n            }\r\n            return {GroupEditBtn,offpopup,group_name,editGroup,depth,edit_group_server}\r\n        },\r\n        mounted(){\r\n        },\r\n        destroyed(){\r\n        }\r\n    };\r\n</script>"],"mappings":";AAkFA,SAASA,QAAO,QAAS,KAAK;AAC9B,SAASC,QAAO,QAAS,MAAM;AAC/B,SAASC,UAAU,EAACC,SAAQ,QAAS,YAAY;AACjD,OAAOC,KAAI,MAAO,OAAO;AACrB,eAAe;EACXC,IAAG,EAAG,UAAU;EAChBC,UAAU,EAAC,CACX,CAAC;EACDC,KAAKA,CAAA,EAAE;IACH,MAAMC,MAAK,GAAIL,SAAS,EAAE;IAC1B,MAAMM,KAAI,GAAIR,QAAQ,EAAE,EAAE;IAC1B,IAAIS,YAAW,GAAIV,QAAQ,CAAC,MAAKS,KAAK,CAACE,KAAK,CAACD,YAAY,CAAC;IAC1DE,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEH,YAAY;IACrC,IAAII,UAAS,GAAId,QAAQ,CAAC,MAAKS,KAAK,CAACE,KAAK,CAACG,UAAU,CAAC;IACtD,IAAIC,KAAI,GAAIf,QAAQ,CAAC,MAAKS,KAAK,CAACE,KAAK,CAACI,KAAK,CAAC;IAC5C,SAASC,QAAQA,CAAA,EAAE;MACfP,KAAK,CAACQ,MAAM,CAAC,mBAAmB,CAAC;IACrC;IAEA,SAASC,SAASA,CAAA,EAAE;MAChB,IAAIC,UAAU,GAAC;QACXC,OAAO,EAACC,QAAQ,CAACC,cAAc,CAAC,sBAAsB,CAAC,CAACC,KAAK;QAC7DC,MAAM,EAAC,IAAI;QACXC,MAAM,EAAC,IAAI;QACXC,MAAM,EAAC,IAAI;QACXC,cAAc,EAAC,EAAE;QACjBC,WAAW,EAAC,EAAE;QACdC,QAAQ,EAAC,EAAE;QACXC,KAAK,EAACT,QAAQ,CAACC,cAAc,CAAC,sBAAsB,CAAC,CAACC,KAAK;QAC3DQ,KAAK,EAACV,QAAQ,CAACC,cAAc,CAAC,sBAAsB,CAAC,CAACC;MAC1D;MACAX,OAAO,CAACC,GAAG,CAAC,MAAM,EAACM,UAAU;MAC7Ba,iBAAiB,CAACb,UAAU;MAC5B;MACAV,KAAK,CAACQ,MAAM,CAAC,mBAAmB,CAAC;IACrC;IACA,eAAee,iBAAiBA,CAACb,UAAU,EAAC;MACxC,IAAIc,MAAK,GAAI;QACTC,OAAO,EAAC;UACR,eAAe,EAAC,QAAQ,GAAC,GAAG,GAACzB,KAAK,CAACE,KAAK,CAACwB;QACzC;MACJ;MACAvB,OAAO,CAACC,GAAG,CAAC,MAAM,EAACM,UAAU;MAC7B,MAAMf,KAAK,CAACgC,GAAG,CAAC,sBAAsB,GAACtB,UAAU,CAACS,KAAK,EAAEJ,UAAU,EAAEc,MAAM,CAAC,CAACI,IAAI,CAACC,GAAE,IAAK;QACrF1B,OAAO,CAACC,GAAG,CAACyB,GAAG,CAACC,IAAI;MACxB,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACZC,KAAK,CAAC,kBAAkB;QACxB9B,OAAO,CAACC,GAAG,CAAC4B,KAAK;QACjBjC,MAAM,CAACmC,IAAI,CAAC,GAAG,CAAC;MACpB,CAAC,EACAC,OAAO,CAAC,MAAM,CAAC,CAAC;MACjBC,QAAQ,CAACC,MAAM,EAAE;IACrB;IACA,OAAO;MAACpC,YAAY;MAACM,QAAQ;MAACF,UAAU;MAACI,SAAS;MAACH,KAAK;MAACiB;IAAiB;EAC9E,CAAC;EACDe,OAAOA,CAAA,EAAE,CACT,CAAC;EACDC,SAASA,CAAA,EAAE,CACX;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}